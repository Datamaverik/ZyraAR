{% extends 'mainapp/base.html' %}
{% load static %}

{% block title %}TeachAR{% endblock title %}

{% block content %}
{% if user.is_authenticated %}
  <h2>Welcome, {{ user.name }}</h2>
  <h3 class="mt-5 mb-4">Subjects</h3>
  <div class="row">
    {% for subject in subjects %}
    <div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4">
      <div class="card h-100">
        {% if subject.image %}
        <img class="card-img-top img-fluid" src="{{ subject.image.url }}" alt="{{ subject.name }} image" />
        {% endif %}
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">{{ subject.name }}</h5>
          {% if subject.description %}
          <p class="card-text">{{ subject.description }}</p>
          {% endif %}
          <div class="mt-auto">
            <a href="{% url 'subject' subject.name %}" class="btn btn-primary">Open Subject</a>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
{% else %}
  <div class="py-5 text-center">
    <h1>TeachAR</h1>
    <p class="lead">Minimal index to test template parsing.</p>
    <a href="#" class="btn btn-primary">Log in</a>
  </div>
{% endif %}
{% endblock content %}
